<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { importFile, buildFile, writeFile, sendPrompt } from './utils'
import Grid from './lib/Grid'

/**
 * Main entry point to program - handle file import and generation
 */
;(async () => {
  const { filename } = await sendPrompt(
    'Enter filename of input data',
    'text',
    'filename'
  )

  try {
    const data = await importFile(filename)
    const grid = new Grid(data)

    const { value } = await sendPrompt('CSV imported. Perform one generation?')

    if (value) {
      const nextGeneration = grid.performGeneration()
      if (nextGeneration) complete(nextGeneration)
    }
  } catch ({ path }) {
    console.error(`Could not import '${path}'`)
  }
})()

/**
 * Handle outputting new generation as .csv
 * @param {Cell[]} nextGeneration - the next generation
 */
const complete = async nextGeneration => {
  const file = buildFile(nextGeneration)
  const { value } = await sendPrompt(
    `Complete! The output is:\n\n${file}\n\nWrite this to a file?`
  )

  if (value) {
    const { path } = await sendPrompt('Enter filename', 'text', 'path')

    try {
      writeFile(path, file)
    } catch {
      console.error('There was a problem saving the file')
    }
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Cell.html">Cell</a></li><li><a href="Grid.html">Grid</a></li></ul><h3>Global</h3><ul><li><a href="global.html#applyRules">applyRules</a></li><li><a href="global.html#buildFile">buildFile</a></li><li><a href="global.html#complete">complete</a></li><li><a href="global.html#importFile">importFile</a></li><li><a href="global.html#sendPrompt">sendPrompt</a></li><li><a href="global.html#unique">unique</a></li><li><a href="global.html#writeFile">writeFile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Mon Sep 02 2019 17:40:43 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
